<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Cube">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheet.css">

    <title>Cube</title>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-40533395-3', 'cubeapp.io');
      ga('send', 'pageview');

    </script>
  </head>

  <body>

    <!-- MAIN CONTENT -->

    <div id="main_content_wrap" class="outer">
        <div id="menu_wrap" class="outer">
        <ul id="menu" class="inner">
            <li><a href="index.html">home<a/></li>
            <li><a href="install.html">install</a></li>
            <li class="active"><a href="tutorial.html">tutorial</a></li>
            <li><a href="docs.html">docs</a></li>
        </ul>
    </div>

     <section id="tutorial" class="inner">
        <h3>How To make your own Cube</h3>
        <p>Once you get the included example up and running, it will be easy to set up the cube to handle your own data. In the following small tutorial, I'll show you how to store your collection of books in the cube. As you will see its  basically a matter of writing a schema, editing a couple of config files and setting up the database.</p>
        <ol class="tutorial">
            <li>
                <h6>Add a new solr core</h6>
                <div>
                    <p>Add a core tag in solr/solr/solr.xml file. At the end it should look something like this</p>
                    <pre class="code">
&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;solr sharedLib="lib" persistent="true"&gt;
  &lt;cores adminPath="/admin/cores"&gt;
    &lt;core name="team" instanceDir="conf/cube/" dataDir="conf/cube/team" /&gt;
    <span>&lt;core name="library" instanceDir="conf/cube/" dataDir="conf/cube/library" /&gt;</span>
  &lt;/cores&gt;
&lt;/solr&gt;</pre>
                </div>
            </li>
            <li>
                <h6>Start Solr</h6>
                <pre>$ cd cube/solr/<br>$ mvn clean install tomcat:run-war -Pdevelopment</pre>
                <p>You should have a new core called "library" by now. This is where all your library collection will be stored. Check it out on <a href="http://localhost:38730/cube-solr">http://localhost:38730/cube-solr</a>.</p>
            </li>
            <li>
                <h6>Create the entity's files</h6>
                <div>
                    <pre>$ cd util/<br/>$ ./create_entity library</pre>
                </div>
            </li>
            <li>
                <h6>Configure</h6>
                <div>
                    <ol>
                        <li>
                            <p>Schema</p>
                            <p>The Schema is one of the most important aspects of your entity. We recommend you to spend some time checking out the one provided in the example along with its documentation.<p>
                            <p>Please check the Schema reference <a href="#schema">here</a>.</p>
                            <p>For this example, I provide you with a schema. Get it from <a href="schema.json">here</a> and place it in entities/library/</p>
                            <pre>$ cd cube/entities/library<br/>$ wget http://cubeapp.io/schema.json</pre>
                        </li>
                        <li>
                            <p>Database config</p>
                            <p>Configure entities/library/db.json to point to the new Solr core</p>
                            <p>It should look something like this:</p>
                            <pre class="code"><span class="filename">entities/library/db.json</span>{
    "host": "localhost",
    "port": "38730",
    "core": "<span>library</span>",
    "path": "/cube-solr"
}</pre>
                       </li>

                       <li>
                            <p>Entity Information</p>
                            <p>We need to provide some information about the entity along with some settings. Please take a look at entities/library/settings.json. It should look something like this:</p>
                            <pre class="code">{
    "entity": "<span>library</span>",
    "title": "<span>Library</span>",
    "description": "<span>My huge book collection</span>",
    "itemType": [ "<span>book</span>", "<span>books</span>" ],
    "separator": "/",
    "view": "list",
    "rows": 50,
    "sort": "<span>title</span>:asc"
}</pre>
                        </li>
                    <ol>
                </div>
                </li>
            <li>
                <h6>Add it to the list</h6>
                <p>Open the file called entities.json and add it to the array</p>
                <pre class="code">[ "team"<span>, "library"</span> ]</pre>
            </li>
            <li>
                <h6>Start NodeJs</h6>
                <div>
                    <pre>$ coffee cube.coffee</pre>
                </div>
            </li>
            <li>
                <h6>Visit your library</h6>
                <div><a class="biglink" href="http://localhost:3000/library/?admin=yes">http://localhost:3000/library/?admin=yes</a></div>
            </li>
            <li>
                <h6>Add your books!</h6>
                <p>Click <img id="addbtn" src="add.png"> on the top right corner and start adding your books!</p>
            </li>
        </ol>
     </section>

    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Cube is maintained by <a href="https://github.com/zalando">zalando</a></p>
      </footer>
    </div>
    <script src="jquery-1.9.1.min.js"></script>
    <script src="index.js"></script>
</body></html>
